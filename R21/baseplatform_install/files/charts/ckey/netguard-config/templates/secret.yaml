apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-full
stringData:
{{ (tpl (.Files.Glob "config_files/full/*").AsConfig . ) | nindent 2 }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-partial
stringData:
{{ (tpl (.Files.Glob "config_files/partial/*").AsConfig . ) | nindent 2 }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-reset-password
stringData:
{{ (tpl (.Files.Glob "config_files/reset-password/*").AsConfig . ) | nindent 2 }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-top-level
stringData:
{{ (tpl (.Files.Glob "config_files/top-level/*").AsConfig . ) | nindent 2 }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-client-update
stringData:
{{ (tpl (.Files.Glob "config_files/client-update/*").AsConfig . ) | nindent 2 }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-assign-groups-to-users
stringData:
{{ (tpl (.Files.Glob "config_files/assign-groups-to-users/*").AsConfig . ) | nindent 2 }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-base-platform-sso-secret
  labels:
    backup: "true"
type: Opaque
data:
  base-platform-sso-secret: {{ .Values.config.ckey.basePlatformSso.secret | b64enc | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Chart.Name }}-admin-client
  annotations:
    "helm.sh/hook": post-install, pre-upgrade
    "helm.sh/hook-weight": "-1"
    "helm.sh/hook-delete-policy": before-hook-creation, hook-succeeded
stringData:
{{ (tpl (.Files.Glob "config_files/admin-client/*").AsConfig . ) | nindent 2 }}
