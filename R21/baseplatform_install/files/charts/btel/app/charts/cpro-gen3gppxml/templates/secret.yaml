---
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "gen3gppxml.fullname" . }}-secrets
type: Opaque
stringData:
{{ toYaml .Values.secrets | indent 2 }}

---
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "gen3gppxml.fullname" . }}-secrets-sftp-passwd-key
type: Opaque
stringData:
{{- if .Values.sftp.authentication.key.enabled }}
  key: 
{{ toYaml .Values.sftp.authentication.key.key | indent 4 }}
{{- end }}
{{- if .Values.sftp.authentication.passwd.enabled }}
  passwd_key: 
{{ toYaml .Values.sftp.authentication.passwd.rsaKey | indent 4 }}
{{- end }}
